# Orchard Core 3.0.0

Release date: Not yet released

## Breaking Changes

### GraphQL Module

#### GraphQL Library Upgrade

The `GraphQL` libraries have been upgraded from version 7 to version 8. Below are important changes and considerations for your implementation:

1. **Removal of Default Implementation**:  
   The `IContentTypeBuilder` interface previously included a default implementation for the `Clear()` method. This implementation has been removed. If you have a custom implementation of `IContentTypeBuilder`, you must now provide your own `Clear()` method. The method can remain empty if no specific actions are needed.

2. **Sealed Classes**:  
   Several classes have been marked as sealed to prevent further inheritance. This change is intended to enhance stability and maintainability. The following classes are now sealed:

   - All implementations of `InputObjectGraphType`
   - All implementations of `ObjectGraphType<>`
   - All implementations of `WhereInputObjectGraphType`
   - All implementations of `DynamicContentTypeBuilder`
   - All implementations of `IContentTypeBuilder`
   - All implementations of `GraphQLFilter`
   - All implementations of `ISchemaBuilder`

### Users Module

The user registration and login code has been refactored for better extensibility. During this process, the `RegistrationsSettings.UsersMustValidateEmail` property has been moved to `LoginSettings.UsersMustValidateEmail`. Please update any recipes that set this property by default.

The `IRegistrationFormEvents` interface now includes a new method: `Task RegisteringAsync(UserRegisteringContext context)`. To streamline customization, a new base class, `RegistrationFormEventsBase`, has been introduced, allowing you to override only the necessary methods.

Similarly, the `ILoginFormEvent` interface now includes a new method: `Task<IActionResult> LoggingInAsync(IUser user)`. A corresponding base class, `LoginFormEventBase`, has also been added, enabling you to override only the relevant methods. Note that the base implementation has been removed from the `LoggingInAsync()` method, meaning you must now implement this method if using the `LoginFormEventBase` class.

!!! warning
    If your recipe sets `UsersMustValidateEmail` property using the `RegistrationsSettings` class, you must update it to use `LoginSettings` instead to avoid issues.
