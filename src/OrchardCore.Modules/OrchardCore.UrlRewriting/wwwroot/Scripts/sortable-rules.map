{"version":3,"sources":["<anon>"],"sourcesContent":["sortingListManager = function () {\n\r\n    const saveOrders = (evt, url, errorMessage) => {\r\n\r\n        var data = {\r\n            oldIndex: evt.oldIndex,\r\n            newIndex: evt.newIndex\r\n        };\r\n        fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        }).catch(error => {\r\n            console.log(error);\r\n            alert(errorMessage || 'Unable to sort the list');\r\n        });\r\n    }\r\n\r\n    const create = (selector, sortUrl, errorMessage) => {\r\n\r\n        var sortable = document.querySelector(selector);\r\n\r\n        if (!sortable) {\r\n            console.log('Unable to find the sortable element. The given selector is: ' + selector);\r\n\r\n            return;\r\n        }\r\n\r\n        if (sortUrl) {\r\n            orderUrl = sortUrl;\r\n        } else {\r\n            orderUrl = sortable.getAttribute('data-sort-uri');\r\n        }\r\n\r\n        if (!orderUrl) {\r\n            console.log('Unable to determine the sort post URI. Either pass it to the create function or set it as data-sort-uri to the sorting element.');\r\n\r\n            return;\r\n        }\r\n\r\n        var sortable = Sortable.create(sortable, {\r\n            handle: \".ui-sortable-handle\",\r\n            animation: 150,\r\n            filter: \".ignore-elements\",\r\n            draggable: \".item\",\r\n            onUpdate: function (evt) {\r\n                saveOrders(evt, orderUrl, errorMessage);\r\n            }\r\n        });\r\n    };\r\n\r\n    return {\r\n        create: create\r\n    }\r\n}();\r\n"],"names":["sortingListManager","saveOrders","evt","url","errorMessage","fetch","method","headers","body","JSON","stringify","oldIndex","newIndex","catch","error","console","log","alert","create","selector","sortUrl","sortable","document","querySelector","orderUrl","getAttribute","Sortable","handle","animation","filter","draggable","onUpdate"],"mappings":"AAAAA,mBAAqB,WAEjB,IAAMC,EAAa,CAACC,EAAKC,EAAKC,KAM1BC,MAAMF,EAAK,CACPG,OAAQ,OACRC,QAAS,CACL,eAAgB,kBACpB,EACAC,KAAMC,KAAKC,SAAS,CATb,CACPC,SAAUT,EAAIS,QAAQ,CACtBC,SAAUV,EAAIU,QAAQ,AAC1B,EAOA,GAAGC,KAAK,CAACC,IACLC,QAAQC,GAAG,CAACF,GACZG,MAAMb,GAAgB,0BAC1B,EACJ,EAmCA,MAAO,CACHc,OAlCW,CAACC,EAAUC,EAAShB,KAE/B,IAAIiB,EAAWC,SAASC,aAAa,CAACJ,GAEtC,GAAI,CAACE,EAAU,CACXN,QAAQC,GAAG,CAAC,+DAAiEG,GAE7E,MACJ,CAQA,GAAI,EALAK,SADAJ,GAGWC,EAASI,YAAY,CAAC,kBAGtB,CACXV,QAAQC,GAAG,CAAC,mIAEZ,MACJ,CAEA,IAAIK,EAAWK,SAASR,MAAM,CAACG,EAAU,CACrCM,OAAQ,sBACRC,UAAW,IACXC,OAAQ,mBACRC,UAAW,QACXC,SAAU,SAAU7B,CAAG,EACnBD,EAAWC,EAAKsB,SAAUpB,EAC9B,CACJ,EACJ,CAIA,CACJ"}
