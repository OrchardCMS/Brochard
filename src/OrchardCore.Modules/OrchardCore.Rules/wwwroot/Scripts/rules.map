{"version":3,"sources":["<anon>"],"sourcesContent":["function updateRuleOrders(conditionId, toConditionId, toPosition) {\r\n    var url = $('#ruleOrderUrl').data(\"url\");\r\n    var parameters = {};\r\n    $('.ruleorderparameters').each(function(i, val) {\r\n        parameters[$(val).data(\"param\")] = $(val).data(\"value\");\r\n    });\r\n\r\n    parameters[\"__RequestVerificationToken\"] = $(\"input[name='__RequestVerificationToken']\").val();\r\n    parameters[\"conditionId\"] = conditionId;\r\n    parameters[\"toConditionId\"] = toConditionId;\r\n    parameters[\"toPosition\"] = toPosition;\r\n\r\n    $.ajax({\r\n        url: url,\r\n        method: 'POST',\r\n        data: parameters,\r\n        error: function (error) {\r\n            alert($('#ruleOrderErrorMessage').data(\"message\"));\r\n        }\r\n    });\r\n}\r\n\r\n$(function () {\r\n    var sortableOptions = {\r\n      group: {\r\n        name: \"sortable-list\"\r\n      },\r\n      animation: 250,\r\n      forceFallback: true,\r\n      fallbackOnBody: true,\r\n      swapThreshold: 0.65,\r\n      onEnd: function (evt) {\r\n        // When nesting groups use onEnd as onSort fires for every group it passes through.\r\n        updateRuleOrders($(evt.item).data(\"conditionid\"), $(evt.item).parent().data(\"conditiongroupid\"), evt.newIndex);\r\n      }\r\n    }; \r\n    var groups = document.querySelectorAll(\".condition-group\");\r\n    for (var i = 0; i < groups.length; i++) {\r\n      new Sortable(groups[i], sortableOptions);\r\n    }\r\n});\r\n"],"names":["updateRuleOrders","conditionId","toConditionId","toPosition","url","$","data","parameters","each","i","val","ajax","method","error","alert","sortableOptions","group","name","animation","forceFallback","fallbackOnBody","swapThreshold","onEnd","evt","item","parent","newIndex","groups","document","querySelectorAll","length","Sortable"],"mappings":"AAAA,SAASA,iBAAiBC,CAAW,CAAEC,CAAa,CAAEC,CAAU,EAC5D,IAAIC,EAAMC,EAAE,iBAAiBC,IAAI,CAAC,OAC9BC,EAAa,CAAC,EAClBF,EAAE,wBAAwBG,IAAI,CAAC,SAASC,CAAC,CAAEC,CAAG,EAC1CH,CAAU,CAACF,EAAEK,GAAKJ,IAAI,CAAC,SAAS,CAAGD,EAAEK,GAAKJ,IAAI,CAAC,QACnD,GAEAC,EAAW,0BAA6B,CAAGF,EAAE,4CAA4CK,GAAG,GAC5FH,EAAW,WAAc,CAAGN,EAC5BM,EAAW,aAAgB,CAAGL,EAC9BK,EAAW,UAAa,CAAGJ,EAE3BE,EAAEM,IAAI,CAAC,CACHP,IAAKA,EACLQ,OAAQ,OACRN,KAAMC,EACNM,MAAO,SAAUA,CAAK,EAClBC,MAAMT,EAAE,0BAA0BC,IAAI,CAAC,WAC3C,CACJ,EACJ,CAEAD,EAAE,WAeE,IAAK,IAdDU,EAAkB,CACpBC,MAAO,CACLC,KAAM,eACR,EACAC,UAAW,IACXC,cAAe,CAAA,EACfC,eAAgB,CAAA,EAChBC,cAAe,IACfC,MAAO,SAAUC,CAAG,EAElBvB,iBAAiBK,EAAEkB,EAAIC,IAAI,EAAElB,IAAI,CAAC,eAAgBD,EAAEkB,EAAIC,IAAI,EAAEC,MAAM,GAAGnB,IAAI,CAAC,oBAAqBiB,EAAIG,QAAQ,CAC/G,CACF,EACIC,EAASC,SAASC,gBAAgB,CAAC,oBAC9BpB,EAAI,EAAGA,EAAIkB,EAAOG,MAAM,CAAErB,IACjC,IAAIsB,SAASJ,CAAM,CAAClB,EAAE,CAAEM,EAE9B"}
