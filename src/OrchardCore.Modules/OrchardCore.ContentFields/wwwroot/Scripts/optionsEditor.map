{"version":3,"sources":["<anon>"],"sourcesContent":["function initializeOptionsEditor(elem, data, defaultValue, modalBodyElement) {\r\n\r\n    var previouslyChecked;\r\n\r\n    var store = {\r\n        debug: false,\r\n        state: {\r\n            options: data,\r\n            selected: defaultValue\r\n        },\r\n        addOption: function () {\r\n            if (this.debug) { console.log('add option triggered') };\r\n            this.state.options.push({ name: '', value: '' });\r\n        },\r\n        removeOption: function (index) {\r\n            if (this.debug) { console.log('remove option triggered with', index) };\r\n            this.state.options.splice(index, 1);\r\n        },\r\n        getOptionsFormattedList: function () {\r\n            if (this.debug) { console.log('getOptionsFormattedList triggered') };\r\n            return JSON.stringify(this.state.options.filter(function (x) { return !IsNullOrWhiteSpace(x.name) }));\r\n        }\r\n    }\r\n\r\n    var optionsTable = {\r\n        template: '#options-table',\r\n        props: ['data'],\r\n        name: 'options-table',\r\n        methods: {\r\n            add: function () {\r\n                store.addOption();\r\n            },\r\n            remove: function (index) {\r\n                store.removeOption(index);\r\n            },\r\n            uncheck: function (index) {\r\n                if (index == previouslyChecked) {\r\n                    $('#customRadio_' + index)[0].checked = false;\r\n                    store.state.selected = null;\r\n                    previouslyChecked = null;\r\n                }\r\n                else {\r\n                    previouslyChecked = index;\r\n                }\r\n            },\r\n            getOptionsFormattedList: function () {\r\n                return store.getOptionsFormattedList();\r\n            }\r\n        }\r\n    };\r\n\r\n    var optionsModal = {\r\n        template: '#options-modal',\r\n        props: ['data'],\r\n        name: 'options-modal',\r\n        methods: {\r\n            getOptionsFormattedList: function () {\r\n                return store.getOptionsFormattedList();\r\n            },\r\n            showModal: function () {\r\n                optionsModal.props.data.modal = new bootstrap.Modal(modalBodyElement[0]);\r\n                optionsModal.props.data.modal.show();\r\n            },\r\n            closeModal: function () {\r\n                optionsModal.props.data.modal.hide();\r\n            }\r\n        }\r\n    };\r\n\r\n    new Vue({\r\n        components: {\r\n            optionsTable: optionsTable,\r\n            optionsModal: optionsModal\r\n        },\r\n        data: {\r\n            sharedState: store.state,\r\n            modal: null\r\n        },\r\n        el: elem,\r\n        methods: {\r\n            showModal: function () {\r\n                optionsModal.methods.showModal();\r\n            }\r\n        }\r\n    });\r\n\r\n}\r\n\r\nfunction IsNullOrWhiteSpace(str) {\r\n    return str === null || str.match(/^ *$/) !== null;\r\n}"],"names":["initializeOptionsEditor","elem","data","defaultValue","modalBodyElement","previouslyChecked","store","debug","state","options","selected","addOption","console","log","push","name","value","removeOption","index","splice","getOptionsFormattedList","JSON","stringify","filter","x","IsNullOrWhiteSpace","optionsModal","template","props","methods","showModal","modal","bootstrap","Modal","show","closeModal","hide","Vue","components","optionsTable","add","remove","uncheck","$","checked","sharedState","el","str","match"],"mappings":"AAAA,SAASA,wBAAwBC,CAAI,CAAEC,CAAI,CAAEC,CAAY,CAAEC,CAAgB,EAIvE,IAFIC,EAEAC,EAAQ,CACRC,MAAO,CAAA,EACPC,MAAO,CACHC,QAASP,EACTQ,SAAUP,CACd,EACAQ,UAAW,WACH,IAAI,CAACJ,KAAK,EAAIK,QAAQC,GAAG,CAAC,wBAC9B,IAAI,CAACL,KAAK,CAACC,OAAO,CAACK,IAAI,CAAC,CAAEC,KAAM,GAAIC,MAAO,EAAG,EAClD,EACAC,aAAc,SAAUC,CAAK,EACrB,IAAI,CAACX,KAAK,EAAIK,QAAQC,GAAG,CAAC,+BAAgCK,GAC9D,IAAI,CAACV,KAAK,CAACC,OAAO,CAACU,MAAM,CAACD,EAAO,EACrC,EACAE,wBAAyB,WAErB,OADI,IAAI,CAACb,KAAK,EAAIK,QAAQC,GAAG,CAAC,qCACvBQ,KAAKC,SAAS,CAAC,IAAI,CAACd,KAAK,CAACC,OAAO,CAACc,MAAM,CAAC,SAAUC,CAAC,EAAI,MAAO,CAACC,mBAAmBD,EAAET,IAAI,CAAE,GACtG,CACJ,EA6BIW,EAAe,CACfC,SAAU,iBACVC,MAAO,CAAC,OAAO,CACfb,KAAM,gBACNc,QAAS,CACLT,wBAAyB,WACrB,OAAOd,EAAMc,uBAAuB,EACxC,EACAU,UAAW,WACPJ,EAAaE,KAAK,CAAC1B,IAAI,CAAC6B,KAAK,CAAG,IAAIC,UAAUC,KAAK,CAAC7B,CAAgB,CAAC,EAAE,EACvEsB,EAAaE,KAAK,CAAC1B,IAAI,CAAC6B,KAAK,CAACG,IAAI,EACtC,EACAC,WAAY,WACRT,EAAaE,KAAK,CAAC1B,IAAI,CAAC6B,KAAK,CAACK,IAAI,EACtC,CACJ,CACJ,EAEA,IAAIC,IAAI,CACJC,WAAY,CACRC,aA/CW,CACfZ,SAAU,iBACVC,MAAO,CAAC,OAAO,CACfb,KAAM,gBACNc,QAAS,CACLW,IAAK,WACDlC,EAAMK,SAAS,EACnB,EACA8B,OAAQ,SAAUvB,CAAK,EACnBZ,EAAMW,YAAY,CAACC,EACvB,EACAwB,QAAS,SAAUxB,CAAK,EAChBA,GAASb,GACTsC,EAAE,gBAAkBzB,EAAM,CAAC,EAAE,CAAC0B,OAAO,CAAG,CAAA,EACxCtC,EAAME,KAAK,CAACE,QAAQ,CAAG,KACvBL,EAAoB,MAGpBA,EAAoBa,CAE5B,EACAE,wBAAyB,WACrB,OAAOd,EAAMc,uBAAuB,EACxC,CACJ,CACJ,EAuBQM,aAAcA,CAClB,EACAxB,KAAM,CACF2C,YAAavC,EAAME,KAAK,CACxBuB,MAAO,IACX,EACAe,GAAI7C,EACJ4B,QAAS,CACLC,UAAW,WACPJ,EAAaG,OAAO,CAACC,SAAS,EAClC,CACJ,CACJ,EAEJ,CAEA,SAASL,mBAAmBsB,CAAG,EAC3B,OAAOA,AAAQ,OAARA,GAAgBA,AAAsB,OAAtBA,EAAIC,KAAK,CAAC,OACrC"}